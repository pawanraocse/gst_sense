spring:
  application:
    name: auth-service-test
  autoconfigure:
    exclude:
      - org.redisson.spring.starter.RedissonAutoConfigurationV2
  flyway:
    enabled: false
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        # Skip schema validation during startup to avoid datasource connection requirement
        hbm2ddl:
          auto: none
        temp:
          use_jdbc_metadata_defaults: false
        jdbc:
          lob:
            non_contextual_creation: true
    
  security:
    oauth2:
      client:
        registration:
          cognito:
            client-id: test-client-id
            client-secret: test-client-secret
            scope: openid,email
            redirect-uri: http://localhost:8081/login/oauth2/code/cognito
            authorization-grant-type: authorization_code
        provider:
          cognito:
            issuer-uri: https://cognito-idp.us-east-1.amazonaws.com/us-east-1_test
            
cognito:
  user-pool-id: us-east-1_test
  client-id: test-client-id
  domain: test-domain
  region: us-east-1
  logout-redirect-url: http://localhost:8081/logout

eureka:
  client:
    enabled: false
    register-with-eureka: false
    fetch-registry: false

auth:
  cognito:
    singleton:
      enabled: true
